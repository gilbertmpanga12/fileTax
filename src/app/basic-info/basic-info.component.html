<div class="flex-container">
    <div class="col-6-grid">
        <h1 class="overview-title mat-title">Basic Info</h1>
    </div>
</div>

<div class="flex-container">
    <mat-card class="basic-tax-card-main mat-elevation-z5">
        <div class="flex-container-row reduce-height">
            <strong><h2>Get started filing taxes now</h2></strong>
        </div>
  
        <div class="flex-container-row">
            <h6 class="header-h5">We'll make it easy - just answer a few questions and we'll put together <br/>forms for you</h6>
        </div>
        <br/>

       
<!--  linear-->
        <mat-horizontal-stepper  #stepper >
            <mat-step [stepControl]="personalInfo">
                <ng-template matStepLabel>About yourself</ng-template>
                <form [formGroup]="personalInfo" class="flex-container">
                    <div class="col-grid-33">
                        <p>
                            <mat-form-field appearance="standard" class="forms">
                              <mat-label>Mother's Maiden Name</mat-label>
                              <input matInput placeholder="e.g Jessica Fox"
                              formControlName="motherMaidenName"
                              >
                              <mat-error>Provide mother's maiden name</mat-error>
                              </mat-form-field>
                          </p>
                    </div>
                    <div class="col-grid-33">
                        <p>
                            <mat-form-field appearance="standard" class="forms">
                              <mat-label>Your telephone number</mat-label>
                              <input matInput placeholder="0700900465" formControlName="telephone">
                              <mat-error>Telephone number required</mat-error>
                              </mat-form-field>
                          </p>
                    </div>

                    <div class="col-grid-33">
                        <p></p>
                        <p>
                            <mat-form-field class="forms-select">
                                <mat-label>Sex</mat-label>
                                <mat-select formControlName="sex">
                                  <mat-option *ngFor="let gender of sex" [value]="gender">
                                    {{gender}}
                                  </mat-option>
                                </mat-select>
                                <mat-error>Gender required</mat-error>
                              </mat-form-field>
                          </p>
                    </div>

                    <div class="col-grid-33">
                        <p></p>
                        <p>
                            <mat-form-field class="forms-select">
                                <mat-label>Marital status</mat-label>
                                <mat-select formControlName="maritalStatus">
                                  <mat-option *ngFor="let status of maritalStatuses" [value]="status">
                                    {{status}}
                                  </mat-option>
                                </mat-select>
                                <mat-error>Provide marital status</mat-error>
                              </mat-form-field>
                          </p>
                    </div>

                    <div class="col-grid-33">
                        <p></p>
                        <p>
                            <mat-form-field class="forms-select">
                                <mat-label>Are a you citizen of Uganda</mat-label>
                                <mat-select formControlName="citizenship">
                                  <mat-option *ngFor="let status of citizen" [value]="status">
                                    {{status}}
                                  </mat-option>
                                </mat-select>
                                <mat-error>Citizenship required</mat-error>
                              </mat-form-field>
                          </p>
                    </div>
     
                </form>
                <br/>
                <div class="flex-container">
                    <button mat-flat-button color="primary"
                    matStepperNext
                    class="main-cta"
                    >Continue</button>
                </div>
            </mat-step>
            <mat-step>
                <ng-template matStepLabel>More about you</ng-template>
                <form [formGroup]="moreInfo">
                    <div  class="flex-column">
            <strong><h2 class="label-text">Have you ever been known by other names? <small><i>If yes provide names</i></small></h2></strong>
                        <p>
                            <mat-form-field class="col-grid-33">
                                <mat-select formControlName="aliasNameKnown">
                                  <mat-option *ngFor="let status of secondaryNames" [value]="status">
                                    {{status}}
                                  </mat-option>
                                </mat-select>
                              </mat-form-field>
                              <mat-form-field appearance="standard" class="form-inline" 
                              *ngIf="moreInfo.get('aliasNameKnown').value == 'Yes'">
                                <mat-label>Your other names</mat-label>
                                <input matInput placeholder="e.g Magic Thomson" formControlName="aliasFullName">
                                </mat-form-field>
                              
                        </p>
                        <strong><h2 class="label-text">Are you a minor? <small><i>If yes provide names of parents/guardian</i></small></h2></strong>
                        <p>
                            <mat-form-field class="col-grid-33">
                                <mat-select formControlName="minor">
                                  <mat-option *ngFor="let status of minors" [value]="status">
                                    {{status}}
                                  </mat-option>
                                </mat-select>
                              </mat-form-field>
                              <mat-form-field appearance="standard" class="form-inline" 
                              *ngIf="moreInfo.get('minor').value == 'Yes'">
                                <mat-label>Parent / Guardian names</mat-label>
                                <input matInput placeholder="e.g Mike Kato" formControlName="minorGuardianName">
                                </mat-form-field>
                              
                        </p>

                        <strong><h2 class="label-text">Provide your partnership or corporate TIN</h2></strong>
                        <p>
                            <mat-form-field appearance="standard" class="forms">
                                <mat-label>Corporate or partnership TIN</mat-label>
                                <input matInput placeholder="e.g HHSGH02920"
                                formControlName="corporatePartnership"
                                >
                                <mat-error>Corporate TIN or Partnership TIN required</mat-error>
                                </mat-form-field>
                        </p>

                    </div>
                  
                    
                </form>
                <br/>
                <div class="flex-container">
                    <button mat-flat-button color="primary"
                    matStepperNext
                    class="main-cta"
                    >Continue</button>
                </div>
            </mat-step>
            <mat-step>
                <ng-template matStepLabel>Financials</ng-template>
                <form [formGroup]="financialsUpload">
                    <div  class="flex-column">
      <strong><h2 class="label-text height-reduce">What is your source of Income ? </h2></strong>
      <p></p>
      <p></p>
      <p>
        <mat-radio-group aria-label="Select an option" formControlName="sourceOfIncome">
            <mat-radio-button value="Self employed">Self Employed or owns business</mat-radio-button>&nbsp;&nbsp;
            <mat-radio-button value="Employed or owns Business">Employed</mat-radio-button>
          </mat-radio-group>
      </p>
      
                    </div>
                    
                    <div class="flex-container"  *ngIf="financialsUpload.get('sourceOfIncome').value == 'Self employed'">
                        <div class="col-grid-33">
                            <mat-form-field appearance="standard" class="forms" 
                            >
                               <input matInput placeholder="Address"
                               formControlName="selfEmployedAddress"
                               >
                               <mat-hint>
                               Provide address of your business
                               </mat-hint>
                               <mat-error>Address required</mat-error>
                               </mat-form-field>
                        </div>
                        <div class="col-grid-33">
                            <mat-form-field appearance="standard" class="forms" 
                            >
                               <input matInput placeholder="Your business TIN"
                               formControlName="selfEmployedTin"
                               >
                               <mat-hint>
                               TIN number for your business
                               </mat-hint>
                               <mat-error>Business TIN required if any</mat-error>
                               </mat-form-field>
                        </div>
                    </div>
<br/>
                    <div class="flex-container" 
                    *ngIf="financialsUpload.get('sourceOfIncome').value == 'Employed or owns Business'"
                    >
               <div class="col-grid-33">
                        <p>
                            <mat-form-field appearance="standard" class="forms">
                              <mat-label>Employer's TIN</mat-label>
                              <input matInput placeholder="e.g TIN number"
                              formControlName="employerTin"
                              >
                              <mat-error>Provide employer's TIN</mat-error>
                              </mat-form-field>
                          </p>
                    </div>

                    <div class="col-grid-33">
                        <p>
                            <mat-form-field appearance="standard" class="forms">
                              <mat-label>Referee or Employer's name</mat-label>
                              <input matInput placeholder="e.g Mukwano Enterprises"
                              formControlName="employerName"
                              >
                              <mat-error>Provide employer's name</mat-error>
                              </mat-form-field>
                          </p>
                    </div>

                    <div class="col-grid-33">
                        <p>
                            <mat-form-field appearance="standard" class="forms">
                              <mat-label>Referee telephone number</mat-label>
                              <input matInput placeholder="e.g +256..."
                              formControlName="employerTelephoneNumber"
                              >
                              <mat-error>Provide employer's telephone number</mat-error>
                              </mat-form-field>
                          </p>
                    </div>

                    </div>

                </form>
                <br/>
                <div class="flex-container">
                    <button mat-flat-button color="primary"
                    matStepperNext
                    class="main-cta"
                    >Continue</button>
                </div>
            </mat-step>

            <mat-step>
                <ng-template matStepLabel>Residence</ng-template>
               
                <form [formGroup]="residenceInfo" class="flex-container">
                    <div class="col-grid-33" *ngFor="let controller of residenceControllers">
                        <p>
                            <mat-form-field appearance="standard" class="forms">
                              <mat-label>{{controller.name}}</mat-label>
                              <input matInput placeholder=""
                              formControlName="{{controller.controller}}"
                              >
                              <!-- <mat-error>District required*</mat-error> -->
                              </mat-form-field>
                          </p>
                    </div>
                    </form>
                <br/>
                <div class="flex-container">
                    <button mat-flat-button color="primary"
                    matStepperNext
                    class="main-cta"
                    >Continue</button>
                </div>
            </mat-step>
            <mat-step>
                
                <ng-template matStepLabel>Documents</ng-template>
                <div class="flex-container">
                    <strong ><h2 class="shrink-h4">Upload atleast 2 documents</h2></strong>
                   </div>
                   <div class="flex-container">
                    <ul class="ol-style">
                      <li *ngFor="let files of colorSets"><small 
                        matTooltip="File uploaded for Bank Statement"
                        class="file-display"><i>A {{files}} added</i></small></li>
                      </ul>
                   </div>
                   <div class="flex-container">
                    <div class="col-grid-33" *ngFor="let button of buttonsUpload">
                      <button mat-flat-button (click)="colorSets.has(button) ? deleteDocument(button) : ref.click()"
                      color="{{colorSets.has(button) ? accentColor : primaryColor}}" class="margin-bottom-10"
                      >
                      <mat-icon>add</mat-icon>
                      {{button}}</button>
                      <input class="file-input" type="file" 
                      accept=".doc,.docx,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,.pdf"
            id="form-uploader" #ref
            (change)="uploadDocuments(button,$event.target.files)">
                    </div>
                
                </div>
                <br/>
                <br/>
                <div class="flex-container">
                    <button mat-flat-button color="primary"
                    (click)="submitBasicProfile(stepper)"
                    class="main-cta"
                    >
                    <div class="spinner" *ngIf="isLoading">
                        <div class="bounce1"></div>
                        <div class="bounce2"></div>
                        <div class="bounce3"></div>
                      </div>
                    <span *ngIf="!isLoading">Finish</span>
                    </button>
                </div>
            </mat-step>
        </mat-horizontal-stepper>
    </mat-card>
</div>
